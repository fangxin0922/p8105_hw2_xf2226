p8105\_hw2\_xf2226
================
Xin Fang
10/3/2021

# problem 1

## Read in and clean Mr.Â Trash Wheel sheet

``` r
mr_trash_wheel_df <- readxl::read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = 1, range = cellranger::cell_cols("A:N"), skip = 1) %>% # specified the sheet in the Excel file, using sheet = 1; omited non-data entries, using range = cellranger::cell_cols("A:N") and skip = 1
  janitor::clean_names() %>% #use reasonable variable names
  filter(!is.na(dumpster)) #omit rows that do not include dumpster-specific data

mr_trash_wheel_df$sports_balls <- round(pull(mr_trash_wheel_df, sports_balls), 0) #round the number of sports balls to the nearest integer
```

## Read and clean precipitation data for 2018 and 2019

``` r
sheets <- readxl::excel_sheets("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx") #read in sheets

precipitation_2018_2019 <- do.call(rbind, lapply(sheets[4:5], function(X) 
        transform(readxl::read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = X, skip = 1), sheetname = X))) #rbind the two seperate sheets and add a column containing the sheetnames

precipitation_2018_2019 <- precipitation_2018_2019 %>% 
  na.omit(total) %>% #omit rows without precipitation data
  mutate(Year = substr(sheetname, 1, 4), Month = month.name[Month]) %>%  #add a variable for year and convert month to a character variable
  select(Year, Month, Total) %>% 
  as_tibble()
```
